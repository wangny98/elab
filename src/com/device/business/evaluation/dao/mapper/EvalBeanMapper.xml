<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.device.business.evaluation.dao.mapper.EvalBeanMapper">
  <resultMap id="BaseResultMap" type="com.device.business.evaluation.bean.EvalBean">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Mar 29 20:54:02 CST 2017.
    -->
    <result column="id" jdbcType="INTEGER" property="id" />
    <result column="pile_model" jdbcType="VARCHAR" property="pileModel" />
    <result column="cement_density" jdbcType="REAL" property="cementDensity" />
    <result column="pile_plan_length" jdbcType="REAL" property="pilePlanLength" />
    <result column="pile_length_more" jdbcType="REAL" property="pileLengthMore" />
    <result column="electric_more" jdbcType="REAL" property="electricMore" />
    <result column="up_plan_length" jdbcType="REAL" property="upPlanLength" />
    <result column="up__cement_density" jdbcType="REAL" property="upCementDensity" />
    <result column="down_plan_length" jdbcType="REAL" property="downPlanLength" />
    <result column="down_cement_density" jdbcType="REAL" property="downCementDensity" />
    <result column="length_score" jdbcType="REAL" property="lengthScore" />
    <result column="cement_score" jdbcType="REAL" property="cementScore" />
    <result column="lean_score" jdbcType="REAL" property="leanScore" />
  </resultMap>
  
  <select id="selectAll" resultMap="BaseResultMap">
  	select
  	  id, pile_model, cement_density, 
      pile_plan_length, pile_length_more, electric_more, 
      up_plan_length, up__cement_density, down_plan_length, 
      down_cement_density,length_score,cement_score,lean_score
  	from t_luding_evaluation
  </select>
  
  <select id="selectById" resultMap="BaseResultMap">
  	select
  	  id, pile_model, cement_density, 
      pile_plan_length, pile_length_more, electric_more, 
      up_plan_length, up__cement_density, down_plan_length, 
      down_cement_density,length_score,cement_score,lean_score
  	from t_luding_evaluation
  	where id=#{evalId}
  </select>
  
  <select id="selectModel" resultType="java.lang.String">
  	select
  	  id, pile_model
  	from t_luding_evaluation
  </select>
  <update id="updatePileScore">
  	update t_luding_pile_info
  		set
  			score =  #{score,jdbcType=REAL},
  			score_mark = #{scoreMark},
  			Pile_status = #{pileStatus}
  	where id = #{pileId}
  </update>
  
  <update id="updateEvalById">
  	update t_luding_evaluation
    	set 
	        pile_model = #{record.pileModel},
	        cement_density = #{record.cementDensity},
	        pile_plan_length = #{record.pilePlanLength},
	        pile_length_more = #{record.pileLengthMore},
	        electric_more = #{record.electricMore},
	        up_plan_length = #{record.upPlanLength},
	        up__cement_density = #{record.upCementDensity},
	        down_plan_length = #{record.downPlanLength},
	        down_cement_density = #{record.downCementDensity},
	        length_score = #{record.lengthScore},
	        cement_score = #{record.cementScore},
	        lean_score = #{record.leanScore}
      where id = #{record.id}
  </update>
  
  <insert id="insert" parameterType="com.device.business.evaluation.bean.EvalBean">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Mar 29 20:54:02 CST 2017.
    -->
    insert into t_luding_evaluation (id, pile_model, cement_density, 
      pile_plan_length, pile_length_more, electric_more, 
      up_plan_length, up__cement_density, down_plan_length, 
      down_cement_density)
    values (#{id,jdbcType=INTEGER}, #{pileModel,jdbcType=VARCHAR}, #{cementDensity,jdbcType=REAL}, 
      #{pilePlanLength,jdbcType=REAL}, #{pileLengthMore,jdbcType=REAL}, #{electricMore,jdbcType=REAL}, 
      #{upPlanLength,jdbcType=REAL}, #{upCementDensity,jdbcType=REAL}, #{downPlanLength,jdbcType=REAL}, 
      #{downCementDensity,jdbcType=REAL})
  </insert>
  
</mapper>